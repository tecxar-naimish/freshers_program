<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day-08 Excercise-2</title>
</head>

<body>
    <script>
        const users = {
            Alex: {
                email: 'alex@alex.com',
                skills: ['HTML', 'CSS', 'JavaScript'],
                age: 20,
                isLoggedIn: false,
                points: 30
            },
            Asab: {
                email: 'asab@asab.com',
                skills: ['HTML', 'CSS', 'JavaScript', 'Redux', 'MongoDB', 'Express', 'React', 'Node'],
                age: 25,
                isLoggedIn: false,
                points: 50
            },
            Brook: {
                email: 'daniel@daniel.com',
                skills: ['HTML', 'CSS', 'JavaScript', 'React', 'Redux'],
                age: 30,
                isLoggedIn: true,
                points: 50
            },
            Daniel: {
                email: 'daniel@alex.com',
                skills: ['HTML', 'CSS', 'JavaScript', 'Python'],
                age: 20,
                isLoggedIn: false,
                points: 40
            },
            John: {
                email: 'john@john.com',
                skills: ['HTML', 'CSS', 'JavaScript', 'React', 'Redux', 'Node.js'],
                age: 20,
                isLoggedIn: true,
                points: 50
            },
            Thomas: {
                email: 'thomas@thomas.com',
                skills: ['HTML', 'CSS', 'JavaScript', 'React'],
                age: 20,
                isLoggedIn: false,
                points: 40
            },
            Paul: {
                email: 'paul@paul.com',
                skills: ['HTML', 'CSS', 'JavaScript', 'MongoDB', 'Express', 'React', 'Node'],
                age: 20,
                isLoggedIn: false,
                points: 40
            }
        }

        //1 Find the person who has many skills in the users object.

        let max = 0;
        let skilledPerson;
        for (const user of Object.keys(users)) {
            // console.log("Skills Length =>",users[user].skills.length);
            if (users[user].skills.length > max) {
                max = users[user].skills.length;
                skilledPerson = Object.assign({}, users[user]);
            }
        }
        console.log(skilledPerson, max);

        //2 Count logged in users, count users having greater than equal to 50 points from the following object.

        let loggedInUsers = 0;
        let points50UpUsers = 0;

        for (const user of Object.keys(users)) {
            if (users[user].isLoggedIn)
                loggedInUsers++;

            if (users[user].points >= 50)
                points50UpUsers++;
        }
        console.log(`LoggedIn Users => ${loggedInUsers}, Points 50 Up Users => ${points50UpUsers}`);

        //3 Find people who are MERN stack developer from the users object

        let findMernStackDevs = () => {
            let mern = ['MongoDB', 'Express', 'React', 'Node'];
            let count = 0;
            let mernStackDevs = [];

            for (const dev of Object.values(users)) {
                for (const skill of dev['skills']) {
                    if (mern.indexOf(skill) != -1) {
                        count++;
                    }
                }
                if (count == 4) {
                    mernStackDevs.push(dev);
                }
            }
            return mernStackDevs;
        }
        console.log(findMernStackDevs());

        let mern = Object.entries(users)
            .filter(([_, user]) => user.skills.includes("MongoDB", "Express", "React", "Node"))
            .map(([name]) => name).join(", ")
        console.log("MERN Stack Developer >>>", mern);

        //4
        const usersCopy = Object.assign(users);
        usersCopy['Naimish'] = {};
        console.log(usersCopy);

        //5
        const keys = Object.keys(users);
        console.log("Keys =>", keys);

        //6
        const values = Object.values(users);
        console.log(`Values => ${values}`);

        //7
        let country = {
            name: "India",
            capital: "New Delhi",
            population: "1.4 billion",
            languages: ['Gujarati', 'Hindi', 'English']
        }
        console.log("Name: ", country.name)
        console.log("Capital: ", country.capital)
        console.log("Population: ", country.population);
        console.log("Languages: ", country.languages);    
    </script>
</body>

</html>